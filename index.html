```html
<script>
  const API_KEY = 'a1e72fd93ed59f56e6332813b9f8dcae';
  const BASE_URL = 'https://api.themoviedb.org/3';
  const IMG_POSTER = 'https://image.tmdb.org/t/p/w342';
  const IMG_BACKDROP = 'https://image.tmdb.org/t/p/w1280';
  let currentItem;
  let featuredItem;
  let featuredItems = [];
  let currentFeaturedIndex = 0;
  let carouselInterval;
  function scrollRow(id, amount) {
    document.getElementById(id).scrollBy({ left: amount, behavior: 'smooth' });
  }
  function scrollToRow(containerId) {
    const row = document.getElementById(containerId).closest('.row');
    const navbarHeight = document.getElementById('navbar').offsetHeight;
    const offset = row.getBoundingClientRect().top + window.scrollY - navbarHeight - 10;
    window.scrollTo({ top: offset, behavior: 'smooth' });
  }
  async function fetchTrending(type) {
    const res = await fetch(`${BASE_URL}/trending/${type}/week?api_key=${API_KEY}`);
    return (await res.json()).results.slice(0, 30);
  }
  async function fetchTrendingAnime() {
    const res = await fetch(`${BASE_URL}/discover/tv?api_key=${API_KEY}&with_original_language=ja&include_null_original_language=false&with_genres=16&sort_by=popularity.desc`);
    return (await res.json()).results.slice(0, 30);
  }
  async function fetchThrillerMovies() {
    const res = await fetch(`${BASE_URL}/discover/movie?api_key=${API_KEY}&with_genres=53&sort_by=vote_average.desc&vote_count.gte=100`);
    return (await res.json()).results.slice(0, 30);
  }
  async function fetchHorrorMovies() {
    const res = await fetch(`${BASE_URL}/discover/movie?api_key=${API_KEY}&with_genres=27&sort_by=vote_average.desc&vote_count.gte=100`);
    return (await res.json()).results.slice(0, 30);
  }
  async function fetchNetflixShows() {
    const res = await fetch(`${BASE_URL}/discover/tv?api_key=${API_KEY}&with_networks=213&sort_by=popularity.desc`);
    return (await res.json()).results.slice(0, 30);
  }
  async function fetchDisneyShows() {
    const res = await fetch(`${BASE_URL}/discover/tv?api_key=${API_KEY}&with_networks=2739&sort_by=popularity.desc`);
    return (await res.json()).results.slice(0, 30);
  }
  async function fetchMarvelMovies() {
    const res = await fetch(`${BASE_URL}/discover/movie?api_key=${API_KEY}&with_keywords=180547&sort_by=popularity.desc`);
    return (await res.json()).results.slice(0, 30);
  }
  async function fetchKDrama() {
    const res = await fetch(`${BASE_URL}/discover/tv?api_key=${API_KEY}&with_original_language=ko&sort_by=popularity.desc`);
    return (await res.json()).results.slice(0, 30);
  }
  function displayBanner(item) {
    featuredItem = item;
    const banner = document.getElementById('banner');
    const content = document.getElementById('banner-content');
    // Fade out
    banner.style.opacity = '0.3';
    content.style.opacity = '0';
    setTimeout(() => {
      banner.style.backgroundImage = `url(${IMG_BACKDROP}${item.backdrop_path || item.poster_path})`;
      document.getElementById('banner-title').textContent = item.title || item.name || 'Untitled';
      const overview = item.overview || '';
      document.getElementById('banner-description').textContent = overview.slice(0, 200) + (overview.length > 200 ? '...' : '');
      // Fade in
      banner.style.opacity = '1';
      content.style.opacity = '1';
    }, 1000); // Half of the 2s transition time
  }
  function nextFeatured() {
    if (featuredItems.length <= 1) return;
    currentFeaturedIndex = (currentFeaturedIndex + 1) % featuredItems.length;
    displayBanner(featuredItems[currentFeaturedIndex]);
  }
  function startCarousel() {
    stopCarousel(); // Clear any existing interval
    carouselInterval = setInterval(nextFeatured, 8000); // 8 seconds
  }
  function stopCarousel() {
    if (carouselInterval) clearInterval(carouselInterval);
  }
  // Pause carousel on hover, resume on leave
  document.getElementById('banner').addEventListener('mouseenter', stopCarousel);
  document.getElementById('banner').addEventListener('mouseleave', startCarousel);
  // Clicking anywhere on banner restarts timer
  document.getElementById('banner').addEventListener('click', startCarousel);
  function playFeatured() {
    if (featuredItem) {
      showDetails(featuredItem);
    }
  }
  function createPoster(item, clickHandler) {
    const wrapper = document.createElement('div');
    wrapper.className = 'poster-wrapper';
    const img = document.createElement('img');
    img.loading = 'lazy';
    img.src = `${IMG_POSTER}${item.poster_path}`;
    img.alt = item.title || item.name;
    img.onclick = () => clickHandler(item);
    wrapper.appendChild(img);
    if (item.vote_average) {
      const rating = document.createElement('div');
      rating.className = 'rating-badge';
      rating.innerHTML = `<i class="fas fa-star"></i> ${item.vote_average.toFixed(1)}`;
      wrapper.appendChild(rating);
    }
    return wrapper;
  }
  function displayList(items, containerId) {
    const container = document.getElementById(containerId);
    container.innerHTML = '';
    items.forEach(item => {
      if (item.poster_path) {
        const poster = createPoster(item, showDetails);
        container.appendChild(poster);
      }
    });
  }
  function displaySearchResults(items, container) {
    container.innerHTML = '';
    if (items.length === 0) {
      container.innerHTML = '<p class="no-results">No results found.</p>';
      return;
    }
    items.forEach(item => {
      if (!item.poster_path) return;
      const poster = createPoster(item, (it) => { closeSearchModal(); showDetails(it); });
      container.appendChild(poster);
    });
  }
  function showDetails(item) {
    currentItem = item;
    document.getElementById('main-content').style.display = 'none';
    document.getElementById('search-modal').style.display = 'none';
    const dp = document.getElementById('details-page');
    dp.style.display = 'block';
    document.getElementById('details-title').textContent = item.title || item.name || 'Untitled';
    document.getElementById('details-description').textContent = item.overview || 'No description available.';
    document.getElementById('details-rating').innerHTML = 'â˜…'.repeat(Math.round((item.vote_average || 0) / 2));
    document.getElementById('details-poster').src = `${IMG_POSTER}${item.poster_path}`;
  }
  function goHome() {
    document.getElementById('details-page').style.display = 'none';
    document.getElementById('main-content').style.display = 'block';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
  async function enterFullscreen(element) {
    try {
      if (element.requestFullscreen) {
        await element.requestFullscreen();
      } else if (element.mozRequestFullScreen) {
        await element.mozRequestFullScreen();
      } else if (element.webkitRequestFullscreen) {
        await element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
      } else if (element.msRequestFullscreen) {
        await element.msRequestFullscreen();
      }
    } catch (err) {
      console.log('Fullscreen request failed:', err);
    }
  }
  async function exitFullscreen() {
    try {
      if (document.exitFullscreen) {
        await document.exitFullscreen();
      } else if (document.mozCancelFullScreen) {
        await document.mozCancelFullScreen();
      } else if (document.webkitExitFullscreen) {
        await document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) {
        await document.msExitFullscreen();
      }
    } catch (err) {
      console.log('Exit fullscreen failed:', err);
    }
  }
  function playMovie() {
    document.getElementById('details-page').style.display = 'none';
    const pp = document.getElementById('player-page');
    pp.style.display = 'block';
    const playerLoading = document.getElementById('player-page-loading');
    const iframe = document.getElementById('player-iframe');
    iframe.src = '';
    iframe.classList.remove('loaded');
    playerLoading.style.opacity = '1';
    const type = currentItem.title ? "movie" : "tv";
    const url = `https://vidsrc.cc/v2/embed/${type}/${currentItem.id}`;
    iframe.src = url;
    iframe.onload = () => {
      playerLoading.style.opacity = '0';
      setTimeout(() => {
        iframe.classList.add('loaded');
        if (window.matchMedia("(max-width: 768px)").matches) {
          enterFullscreen(document.getElementById('player-page'));
        }
      }, 300);
    };
  }
  async function closePlayer() {
    await exitFullscreen();
    document.getElementById('player-page').style.display = 'none';
    document.getElementById('player-iframe').src = '';
    document.getElementById('player-iframe').classList.remove('loaded');
    document.getElementById('details-page').style.display = 'none';
    document.getElementById('main-content').style.display = 'block';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
  function closeModal() {
    document.getElementById('modal').style.display = 'none';
    const iframe = document.getElementById('modal-video');
    iframe.src = '';
    iframe.classList.remove('loaded');
  }
  async function openSearchModal() {
    document.getElementById('search-modal').style.display = 'flex';
    document.getElementById('search-input').focus();
    document.getElementById('search-input').value = '';
    document.getElementById('results-row').style.display = 'none';
    document.getElementById('suggested-row').style.display = 'block';
    const movies = await fetchTrending('movie');
    const tv = await fetchTrending('tv');
    const popular = [...movies.slice(0,10), ...tv.slice(0,10)];
    displaySearchResults(popular, document.getElementById('popular-searches'));
  }
  function closeSearchModal() {
    document.getElementById('search-modal').style.display = 'none';
    document.getElementById('search-results').innerHTML = '';
  }
  async function searchTMDB() {
    const query = document.getElementById('search-input').value.trim();
    const resultsContainer = document.getElementById('search-results');
    const resultsRow = document.getElementById('results-row');
    const suggestedRow = document.getElementById('suggested-row');
    if (!query) {
      resultsRow.style.display = 'none';
      suggestedRow.style.display = 'block';
      return;
    }
    const res = await fetch(`${BASE_URL}/search/multi?api_key=${API_KEY}&query=${encodeURIComponent(query)}`);
    const data = await res.json();
    document.getElementById('results-title').textContent = `Results for "${query}"`;
    displaySearchResults(data.results, resultsContainer);
    resultsRow.style.display = 'block';
    suggestedRow.style.display = 'none';
  }
  async function init() {
    const [movies, tv] = await Promise.all([
      fetchTrending('movie'),
      fetchTrending('tv')
    ]);
    // Prepare featured items: top 10 from trending movies and shows
    const combinedTrending = [...movies.slice(0, 10), ...tv.slice(0, 10)];
    featuredItems = combinedTrending.filter(item => item.backdrop_path || item.poster_path);
    if (featuredItems.length > 0) {
      currentFeaturedIndex = 0;
      displayBanner(featuredItems[0]);
      startCarousel();
    } else {
      document.getElementById('banner-title').textContent = 'Welcome to DailyFlix';
    }
    displayList(movies, 'movies-list');
    displayList(tv, 'tvshows-list');
    const [anime, thrillers, horrors, netflixShows, disneyShows, marvelMovies, kdramas] = await Promise.all([
      fetchTrendingAnime(),
      fetchThrillerMovies(),
      fetchHorrorMovies(),
      fetchNetflixShows(),
      fetchDisneyShows(),
      fetchMarvelMovies(),
      fetchKDrama()
    ]);
    displayList(anime, 'anime-list');
    displayList(thrillers, 'thriller-list');
    displayList(horrors, 'horror-list');
    displayList(netflixShows, 'netflix-list');
    displayList(disneyShows, 'disney-list');
    displayList(marvelMovies, 'marvel-list');
    displayList(kdramas, 'kdrama-list');
    // Hide page loader
    document.getElementById('loading-screen').style.opacity = '0';
    setTimeout(() => {
      document.getElementById('loading-screen').style.display = 'none';
    }, 1000);
    document.getElementById('main-content').classList.add('loaded');
    window.addEventListener('scroll', () => {
      document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 50);
    });
    document.getElementById('search-input').addEventListener('input', searchTMDB);
  }
  init();
</script>
```
